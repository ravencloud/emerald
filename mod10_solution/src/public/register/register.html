<div class="container">

  <div>
    <form class="form-horizontal" id="contact_form" name='registerForm' novalidate>
      <h2 class="text-center">Sign Up</h2>
  
      <fieldset>
        <div class="form-group">
          <label class="col-md-3 control-label">First Name*</label>
          <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
              <input name="first_name" class="form-control" type="text"
                ng-model="registerCtrl.user.first_name" required minlength="2">
            </div>
          </div>
          
          <div class="col-md-5">
            <span ng-if="(registerForm.first_name.$error.minlength || registerForm.first_name.$error.required) && registerForm.first_name.$touched">
              First Name should be at least 2 characters
            </span>
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label">Last Name*</label>
          <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
              <input name="last_name" class="form-control" type="text"
                ng-model="registerCtrl.user.last_name" required minlength="2">
            </div>
          </div>
          
          <div class="col-md-5">
            <span ng-if="(registerForm.last_name.$error.minlength || registerForm.last_name.$error.required) && registerForm.last_name.$touched">
              Last Name should be at least 2 characters
            </span>
          </div>
        </div>
  
        <div class="form-group">
          <label class="col-md-3 control-label">Email*</label>
          <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
              <input name="email" class="form-control" type="text" ng-model="registerCtrl.user.email" required>
            </div>
          </div>
          
          <div class="col-md-5">
            <div>
              <span ng-if="registerForm.email.$invalid && registerForm.email.$touched">
                Email Address is not valid, please use user@email.xxx
              </span>
            </div>
          </div>
        </div>
  
        <div class="form-group">
          <label class="col-md-3 control-label">Phone*</label>
          <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
              <input name="phone" placeholder="123-555-1234" class="form-control" type="text" ng-model="registerCtrl.user.phone" pattern="(\d{3})-(\d{3})-(\d{4})">
            </div>
          </div>
          
          <div class="col-md-5">
            <div>
              <span ng-if="registerForm.phone.$invalid && registerForm.phone.$touched">
                Phone should be in the format ###-###-####
              </span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-md-3 control-label">Favorite Menu Item*</label>
          <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
              <input name="menu_number" placeholder="A11" class="form-control" type="text"
                ng-model="registerCtrl.user.menu_number" ng-change="registerCtrl.favoriteExists()"
                ng-model-options="{debounce: 1000}" required>
            </div>
          </div>
          
          <div class="col-md-5">
            <div>
              <span ng-if="registerCtrl.exists">
                No such menu number exists.
              </span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-md-3 control-label"></label>
          <div class="col-md-4">
            <button type="submit" class="btn btn-primary" ng-disabled="registerForm.$invalid" ng-click="registerCtrl.submit()">Submit</button>
          </div>
        </div>
      </fieldset>
    </form>

    <div id="info" ng-if="registerCtrl.completed" class="col-md-6 col-md-offset-3">
      <h3>Registration Successful!</h3>
      <h2>Your information has been saved.</h2>
      Name: {{ registerCtrl.savedUser.first_name}}  {{ registerCtrl.savedUser.last_name}}<br>
      Email: {{ registerCtrl.savedUser.email}}<br>
      Phone: {{ registerCtrl.savedUser.phone }}<br>

      <h3>Menu Favorite</h3>
        <div class="col-md-4">
          <div class="menu-item-photo">
            <div>{{registerCtrl.menuFavorite.short_name}}</div>
            <img class="img-responsive" width="250" height="150" ng-src="images/menu/{{registerCtrl.menuFavorite.category_short_name}}/{{registerCtrl.menuFavorite.category_short_name}}.jpg" alt="{{registerCtrl.menuFavorite.name}}">
          </div>
        </div>
        <div class="menu-item-description col-md-7">
          <h3 class="menu-item-title">{{registerCtrl.menuFavorite.name}}</h3>
          <p class="menu-item-details">{{registerCtrl.menuFavorite.description}}</p>
        </div>
    </div>

    <div id="info" ng-if="registerCtrl.failed" class="col-md-4 col-md-offset-3">
      <h3>That menu item is not valid, please review our menu items and try again.</h3>
    </div>
  </div>
</div>